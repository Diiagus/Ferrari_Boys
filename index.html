<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Apollo Automotive Store</title>
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- model-viewer (visor 3D) -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    /* ---------------------------
       PALETA: azul cielo, blanco, gris, negro
       Tipograf√≠a y layout simple, profesional y juvenil
       --------------------------- */
    :root{
      --sky:#87CEEB;      /* azul cielo */
      --deep:#0f1724;     /* casi negro */
      --muted:#6b7280;    /* gris */
      --bg:#f8fbff;       /* fondo muy claro */
      --card:#ffffff;
      --accent:#0ea5ff;
      --radius:18px;
    }
    *{box-sizing:border-box;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#ffffff);color:var(--deep);-webkit-font-smoothing:antialiased;}
    .container{max-width:1200px;margin:0 auto;padding:28px;}
    header{display:flex;gap:24px;align-items:center;justify-content:space-between;padding:18px 0;}
    .logo{display:flex;gap:12px;align-items:center}
    .logo .mark{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--sky),var(--accent));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;box-shadow:0 8px 30px rgba(14,165,255,0.12)}
    .brand{font-size:18px;font-weight:700}
    .tag{font-size:12px;color:var(--muted)}
    /* HERO */
    .hero{display:flex;gap:28px;align-items:center;padding:28px;background:transparent}
    .hero-left{flex:1}
    .main-title{font-size:40px;margin:0;line-height:1.02}
    .subtitle{margin-top:12px;color:var(--muted);font-size:16px}
    .cta-row{margin-top:18px;display:flex;gap:10px}
    .btn{padding:12px 18px;border-radius:14px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:var(--deep);color:white;box-shadow:0 12px 30px rgba(15,23,36,0.12)}
    .btn-outline{background:transparent;border:2px solid rgba(15,23,36,0.06);color:var(--deep)}
    /* tarjeta visual */
    .card-feature{width:420px;background:var(--card);padding:14px;border-radius:16px;box-shadow:0 8px 30px rgba(2,6,23,0.06);}
    .car-img{width:100%;height:220px;object-fit:cover;border-radius:12px}
    /* filtros */
    .filters{display:flex;gap:12px;align-items:center;margin-top:18px;flex-wrap:wrap}
    select, .input{padding:10px 12px;border-radius:12px;border:1px solid #e6eef8;background:white}
    /* grid de coches */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:18px}
    .car-card{background:linear-gradient(180deg,white,#fbfdff);padding:14px;border-radius:14px;border:1px solid #eef6ff;box-shadow:0 6px 18px rgba(2,6,23,0.04)}
    .car-card img{width:100%;height:160px;object-fit:cover;border-radius:10px}
    .car-row{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
    .price{font-weight:700}
    .small{font-size:13px;color:var(--muted)}
    /* visor 3D */
    .viewer-area{margin-top:28px;background:var(--card);padding:18px;border-radius:14px;box-shadow:0 10px 40px rgba(2,6,23,0.03);display:flex;gap:20px;align-items:center;flex-wrap:wrap}
    .viewer-info{flex:1}
    .viewer-3d{flex:1;min-width:320px}
    model-viewer{width:100%;height:420px;border-radius:12px;background:linear-gradient(180deg,#f6fbff,#ffffff)}
    /* footer */
    footer{margin-top:36px;text-align:center;color:var(--muted);font-size:13px;padding:28px 0}
    /* animaci√≥n coches cayendo (emojis) */
    .emoji-fall{pointer-events:none;position:fixed;inset:0;z-index:-1;overflow:hidden}
    .emoji{position:absolute;font-size:24px;opacity:0.95;animation:fall linear infinite}
    @keyframes fall{0%{transform:translateY(-20vh) rotate(0deg);opacity:0}10%{opacity:1}100%{transform:translateY(120vh) rotate(360deg);opacity:0}}
    /* responsive */
    @media (max-width:880px){ .hero{flex-direction:column}.card-feature{width:100%} model-viewer{height:300px} .main-title{font-size:32px}}
  </style>
</head>
<body>
  <!-- Iconos animados (cochecitos cayendo) -->
  <div class="emoji-fall" aria-hidden="true" id="emojiFall"></div>

  <div class="container">
    <header>
      <div class="logo">
        <div class="mark">A</div>
        <div>
          <div class="brand">Apollo Automotive Store</div>
          <div class="tag">Autos de lujo ¬∑ juvenil ¬∑ exclusivo ¬∑ confianza üîí</div>
        </div>
      </div>
      <div class="tag">Contacto: solo WhatsApp Business</div>
    </header>

    <!-- HERO -->
    <section class="hero" aria-label="Hero">
      <div class="hero-left">
        <h1 class="main-title">Apollo Automotive Store üöò</h1>
        <p class="subtitle">Autos de lujo con actitud joven y un look premium ‚Äî inspirado por tiendas urbanas y feel de juego. Elegancia, seguridad y confianza.</p>
        <div class="cta-row">
          <button class="btn btn-primary" onclick="scrollToSection('inventario')">Ver inventario</button>
          <button class="btn btn-outline" onclick="scrollToSection('viewer')">Vista 3D</button>
        </div>

        <!-- FILTROS -->
        <div class="filters" style="margin-top:18px;">
          <select id="brandFilter" onchange="updateList()">
            <option value="Todos">Marca: Todos</option>
          </select>
          <select id="modelFilter" onchange="updateList()">
            <option value="Todos">Modelo: Todos</option>
          </select>
          <select id="sortOrder" onchange="updateList()">
            <option value="mayor">Precio: Mayor a menor</option>
            <option value="menor">Precio: Menor a mayor</option>
          </select>
        </div>

      </div>

      <!-- Tarjeta destacada -->
      <aside class="card-feature" aria-hidden="true">
        <img id="featureImg" class="car-img" src="" alt="Coche destacado">
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
          <div>
            <div id="featureBrand" class="small">Marca</div>
            <div id="featureModel" style="font-weight:700;font-size:18px">Modelo</div>
          </div>
          <div id="featurePrice" style="font-weight:800;color:var(--deep)">$0</div>
        </div>
        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="btn btn-primary" onclick="openViewer(selectedCar)">Vista 3D</button>
          <button class="btn btn-outline" onclick="contactWhatsApp(selectedCar)">Contactar</button>
        </div>
      </aside>
    </section>

    <!-- INVENTARIO -->
    <main id="inventario" style="margin-top:18px">
      <h2 style="margin:0 0 8px 0">Inventario</h2>
      <div class="grid" id="carsGrid" role="list"></div>
    </main>

    <!-- VISOR 3D -->
    <section id="viewer" class="viewer-area" style="display:none;">
      <div class="viewer-info">
        <div id="viewBrand" class="small">Marca</div>
        <div id="viewModel" style="font-weight:800;font-size:22px">Selecciona un auto</div>
        <div id="viewPrice" style="margin-top:8px;font-weight:700;color:var(--deep)"></div>
        <p id="viewDesc" class="small" style="margin-top:10px;color:var(--muted)"></p>
        <div style="margin-top:14px;display:flex;gap:10px">
          <button class="btn btn-primary" onclick="contactWhatsApp(selectedCar)">Contactar por WhatsApp</button>
          <button class="btn btn-outline" onclick="closeViewer()">Cerrar</button>
        </div>
      </div>

      <div class="viewer-3d">
        <!-- Si no hay modelo .glb muestra una tarjeta de mensaje -->
        <div id="modelContainer" style="width:100%;height:420px;border-radius:12px;overflow:hidden;background:#f2f8ff;display:flex;align-items:center;justify-content:center;">
          <div id="modelPlaceholder" style="color:var(--muted);padding:12px;">Selecciona un auto para ver su modelo 3D (si el coche tiene .glb) üõ†Ô∏è</div>
        </div>
      </div>
    </section>

    <footer>
      ¬© <span id="year"></span> Apollo Automotive Store ‚Äî Hecho con ‚ù§Ô∏è ¬∑ Contacto solo por WhatsApp Business.
    </footer>
  </div>

  <script>
  /* ============================
     Datos de ejemplo ‚Äî cambia por tus fichas reales
     Para a√±adir modelos 3D sube archivos .glb a la carpeta /models en el repo
     y usa la URL relativa: '/models/nombre.glb' (Netlify los servir√°).
     ============================ */

  const CARS = [
    {
      id:1, brand:'Aurelia', model:'Apex GT', price:125000, img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1200&auto=format&fit=crop',
      glb:'', // e.g. '/models/apexgt.glb'  -> agrega ruta si tienes el .glb
      description:'Deportiva, l√≠neas agresivas, interior premium. üöó‚ú®'
    },
    {
      id:2, brand:'Cerberus', model:'Luxor S', price:210000, img:'https://images.unsplash.com/photo-1541447271-2f21d0e2f7d0?q=80&w=1200&auto=format&fit=crop',
      glb:'',
      description:'Sed√°n ejecutivo, tecnolog√≠a de punta y confort. üß≠'
    },
    {
      id:3, brand:'Aurelia', model:'Roadmaster', price:98000, img:'https://images.unsplash.com/photo-1511919884226-fd3cad34687c?q=80&w=1200&auto=format&fit=crop',
      glb:'',
      description:'Convertible con mucha personalidad. üå¨Ô∏è'
    }
  ];

  // Cambia por tu n√∫mero de WhatsApp Business en formato internacional sin + ni ceros iniciales.
  // Ejemplo M√©xico: 5213312345678
  const WHATSAPP_NUMBER = '5213312345678';

  // Estado simple
  let selectedCar = CARS[0];

  // Inicializaci√≥n DOM
  document.getElementById('year').textContent = new Date().getFullYear();

  // Poblamos filtros (marca y modelo √∫nicos)
  function populateFilters(){
    const brands = ['Todos', ...new Set(CARS.map(c => c.brand))];
    const models = ['Todos', ...new Set(CARS.map(c => c.model))];
    const bf = document.getElementById('brandFilter');
    const mf = document.getElementById('modelFilter');
    brands.forEach(b=>{
      const o=document.createElement('option'); o.value=b; o.textContent=b; bf.appendChild(o);
    });
    models.forEach(m=>{
      const o=document.createElement('option'); o.value=m; o.textContent=m; mf.appendChild(o);
    });
  }

  // Renderizamos la lista de coches
  function updateList(){
    const bf = document.getElementById('brandFilter').value;
    const mf = document.getElementById('modelFilter').value;
    const so = document.getElementById('sortOrder').value;
    let list = CARS.slice();
    if(bf !== 'Todos') list = list.filter(c => c.brand === bf);
    if(mf !== 'Todos') list = list.filter(c => c.model === mf);
    list.sort((a,b)=> so === 'mayor' ? b.price - a.price : a.price - b.price);

    const grid = document.getElementById('carsGrid');
    grid.innerHTML = '';
    list.forEach(car=>{
      const card = document.createElement('article');
      card.className = 'car-card';
      card.innerHTML = `
        <img src="${car.img}" alt="${car.brand} ${car.model}">
        <div style="margin-top:8px;display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-weight:600">${car.brand} ¬∑ ${car.model}</div>
            <div class="small">${car.description}</div>
          </div>
          <div style="text-align:right">
            <div class="price">$${car.price.toLocaleString()}</div>
            <div style="margin-top:8px;display:flex;gap:6px;justify-content:flex-end">
              <button class="btn btn-primary" onclick="openViewer(${car.id})">3D</button>
              <button class="btn btn-outline" onclick="contactWhatsApp(${car.id})">Contactar</button>
            </div>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });

    // Actualiza tarjeta destacada con el primer coche visible o con el seleccionado
    const first = list[0] || CARS[0];
    selectedCar = first;
    updateFeatureCard(first);
  }

  // Actualiza tarjeta destacada
  function updateFeatureCard(car){
    document.getElementById('featureImg').src = car.img;
    document.getElementById('featureBrand').textContent = car.brand;
    document.getElementById('featureModel').textContent = car.model;
    document.getElementById('featurePrice').textContent = '$' + car.price.toLocaleString();
  }

  // Abrir visor 3D pasando ID o objeto
  function openViewer(idOrObj){
    const car = typeof idOrObj === 'object' ? idOrObj : CARS.find(c=>c.id === idOrObj);
    if(!car) return;
    selectedCar = car;
    document.getElementById('viewer').style.display = 'flex';
    document.getElementById('viewBrand').textContent = car.brand;
    document.getElementById('viewModel').textContent = car.model;
    document.getElementById('viewPrice').textContent = '$' + car.price.toLocaleString();
    document.getElementById('viewDesc').textContent = car.description;

    const container = document.getElementById('modelContainer');
    container.innerHTML = ''; // limpiamos

    if(car.glb && car.glb.trim() !== ''){
      // Creamos el <model-viewer>
      const mv = document.createElement('model-viewer');
      mv.setAttribute('src', car.glb);
      mv.setAttribute('alt', `${car.brand} ${car.model}`);
      mv.setAttribute('camera-controls', '');
      mv.setAttribute('auto-rotate', '');
      mv.style.width = '100%';
      mv.style.height = '420px';
      container.appendChild(mv);
    } else {
      // Si no hay .glb mostramos la imagen
      container.innerHTML = `<img src="${car.img}" alt="${car.brand} ${car.model}" style="width:100%;height:100%;object-fit:cover">`;
    }

    // Smooth scroll a la secci√≥n
    document.getElementById('viewer').scrollIntoView({behavior:'smooth', block:'center'});
  }

  function closeViewer(){
    document.getElementById('viewer').style.display = 'none';
    document.getElementById('modelContainer').innerHTML = '<div id="modelPlaceholder" style="color:var(--muted);padding:12px;">Selecciona un auto para ver su modelo 3D (si el coche tiene .glb) üõ†Ô∏è</div>';
  }

  // Redirecci√≥n a WhatsApp con mensaje prellenado
  function contactWhatsApp(idOrObj){
    const car = typeof idOrObj === 'object' ? idOrObj : CARS.find(c=>c.id === idOrObj) || selectedCar;
    if(!car) return;
    const text = encodeURIComponent(`Hola üëã estoy interesado en el ${car.brand} ${car.model} (ID:${car.id}) - Precio: $${car.price.toLocaleString()}. ¬øMe pueden dar m√°s detalles?`);
    const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${text}`;
    window.open(url, '_blank');
  }

  // Scroll helper
  function scrollToSection(id){
    document.getElementById(id).scrollIntoView({behavior:'smooth'});
  }

  // Generador de emojis cayendo (est√©tica)
  function startEmojiFall(){
    const parent = document.getElementById('emojiFall');
    const emojis = ['üöó','üöò','üèéÔ∏è','üöô','üõª'];
    for(let i=0;i<12;i++){
      const s = document.createElement('div');
      s.className='emoji';
      s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      const left = Math.floor(Math.random()*100);
      const dur = 6 + Math.random()*8;
      const delay = -Math.random()*10;
      s.style.left = left + '%';
      s.style.top = (Math.random()*-30) + 'vh';
      s.style.animationDuration = dur + 's';
      s.style.animationDelay = delay + 's';
      parent.appendChild(s);
    }
  }

  // Init
  populateFilters();
  updateList();
  startEmojiFall();
  </script>
</body>
</html>
