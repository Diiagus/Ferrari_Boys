<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Apollo Automotive Store</title>

  <meta name="description" content="Apollo Automotive Store ‚Äî Autos de lujo con actitud joven. Inventario, visor 3D y contacto por WhatsApp." />
  <meta name="theme-color" content="#2c2f33">

  <!-- Google Fonts: Raleway (t√≠tulos) + Manrope (texto) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=Raleway:wght@600;700;800&display=swap" rel="stylesheet">

  <!-- model-viewer (visor 3D) -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    :root{
      /* Fondo oscuro */
      --cement-800:#2c2f33;
      --cement-700:#3a3e44;

      /* Superficie intermedia (‚âà60/40) */
      --surface:#e3e6ea;     /* 60% blanco + 40% gris aprox */
      --surface-2:#edf0f3;

      --card-border:#cfd5dd;
      --card-shadow:0 10px 30px rgba(0,0,0,.20);

      --ink:#e9ecf1;     /* texto claro sobre oscuro */
      --muted:#b8bec6;   /* texto secundario sobre oscuro */
      --deep:#0f1724;    /* texto sobre superficies claras */

      --accent:#0ea5ff;  /* CTA principal */
      --accent-ink:#081019;

      --radius:18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Manrope', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:linear-gradient(180deg,var(--cement-800),var(--cement-700));
      color:var(--ink);
      -webkit-font-smoothing:antialiased;
    }
    h1,h2,h3{font-family:'Raleway',sans-serif; letter-spacing:.3px;}

    .container{max-width:1200px;margin:0 auto;padding:28px;}
    header{display:flex;gap:24px;align-items:center;justify-content:space-between;padding:18px 0;}
    .logo{display:flex;gap:12px;align-items:center}
    .logo .mark{
      width:52px;height:52px;border-radius:12px;
      background:linear-gradient(135deg,#aeb5bc,#87CEEB);
      display:flex;align-items:center;justify-content:center;color:white;font-weight:800;
      box-shadow:0 10px 30px rgba(14,165,255,0.2)
    }
    .brand{font-size:18px;font-weight:800;color:var(--ink); font-family:'Raleway',sans-serif;}
    .tag{font-size:12px;color:var(--muted)}

    /* HERO */
    .hero{display:flex;gap:28px;align-items:center;padding:28px;background:transparent}
    .hero-left{flex:1}
    .main-title{margin:0;line-height:1.02;font-weight:800;font-size:clamp(30px,5vw,44px);color:var(--ink);letter-spacing:.6px}
    .subtitle{margin-top:12px;color:var(--muted);font-size:16px}
    .cta-row{margin-top:18px;display:flex;gap:10px}
    .btn{padding:12px 18px;border-radius:14px;border:0;cursor:pointer;font-weight:700;letter-spacing:.2px}
    .btn-primary{background:var(--accent);color:var(--accent-ink);box-shadow:0 12px 30px rgba(14,165,255,0.28)}
    .btn-outline{background:transparent;border:2px solid rgba(255,255,255,0.28);color:var(--ink)}
    .btn:focus-visible{outline:3px solid #8fd3ff;outline-offset:2px}

    /* Tarjeta destacada (superficie intermedia) */
    .card-feature{
      width:420px;background:var(--surface);padding:14px;border-radius:16px;
      border:1px solid var(--card-border);box-shadow:var(--card-shadow);color:var(--deep)
    }
    .car-img{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;border-radius:12px}

    /* Filtros */
    .filters{display:flex;gap:12px;align-items:center;margin-top:18px;flex-wrap:wrap}
    select, .input{
      padding:10px 12px;border-radius:12px;border:1px solid var(--card-border);
      background:var(--surface-2); color:#0b1220
    }
    select:focus-visible,.input:focus-visible{outline:3px solid var(--accent);}

    /* Grid de coches */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:18px}
    .car-card{
      background:var(--surface);padding:14px;border-radius:14px;
      border:1px solid var(--card-border);box-shadow:var(--card-shadow);color:var(--deep)
    }
    .car-card img{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;border-radius:10px}
    .car-row{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
    .price{font-weight:800}
    .small{font-size:13px;color:#5f6670}

    /* Outline bien visible en TODAS las superficies claras */
    .car-card .btn-outline,
    .card-feature .btn-outline,
    .viewer-area .btn-outline{
      border:2px solid #2f3540;             /* borde n√≠tido */
      color:#0f1724;                         /* texto oscuro */
      background:rgba(255,255,255,0.88);     /* leve relleno */
      backdrop-filter:saturate(1.1);
    }
    .car-card .btn-outline:hover,
    .card-feature .btn-outline:hover,
    .viewer-area .btn-outline:hover{ background:#fff; }

    /* Visor 3D */
    .viewer-area{
      margin-top:28px;background:var(--surface);padding:18px;border-radius:14px;
      box-shadow:0 12px 40px rgba(0,0,0,.25);border:1px solid var(--card-border);
      display:flex;gap:20px;align-items:center;flex-wrap:wrap;color:var(--deep)
    }
    .viewer-info{flex:1}
    .viewer-3d{flex:1;min-width:320px}
    model-viewer{width:100%;height:420px;border-radius:12px;background:linear-gradient(180deg,#eef2f6,#ffffff)}

    /* Footer */
    footer{margin-top:36px;text-align:center;color:var(--muted);font-size:13px;padding:28px 0}

    /* Emojis discretos */
    .emoji-fall{pointer-events:none;position:fixed;inset:0;z-index:-1;overflow:hidden}
    .emoji{position:absolute;font-size:24px;opacity:.28;animation:fall linear infinite;filter:saturate(.8)}
    @keyframes fall{0%{transform:translateY(-20vh) rotate(0);opacity:0}10%{opacity:.28}100%{transform:translateY(120vh) rotate(360deg);opacity:0}}
    @media (prefers-reduced-motion: reduce){.emoji{animation:none !important} html:focus-within{scroll-behavior:auto}}

    @media (max-width:880px){
      .hero{flex-direction:column}
      .card-feature{width:100%}
      model-viewer{height:300px}
    }
  </style>
</head>
<body>
  <div class="emoji-fall" aria-hidden="true" id="emojiFall"></div>

  <div class="container">
    <header>
      <div class="logo">
        <div class="mark">A</div>
        <div>
          <div class="brand">Apollo Automotive Store</div>
          <div class="tag">Autos de lujo ¬∑ juvenil ¬∑ exclusivo ¬∑ confianza üîí</div>
        </div>
      </div>
      <div class="tag">Contacto: solo WhatsApp Business</div>
    </header>

    <!-- HERO -->
    <section class="hero" aria-label="Hero">
      <div class="hero-left">
        <h1 class="main-title">Apollo Automotive Store</h1>
        <p class="subtitle">Autos de lujo con actitud joven ‚Äî look premium, seguro y confiable.</p>
        <div class="cta-row">
          <button class="btn btn-primary" id="btnInv">Ver inventario</button>
          <button class="btn btn-outline" id="btnViewer">Vista 3D</button>
        </div>

        <!-- FILTROS -->
        <div class="filters" style="margin-top:18px;">
          <select id="brandFilter"><option value="Todos">Marca: Todos</option></select>
          <select id="modelFilter"><option value="Todos">Modelo: Todos</option></select>
          <select id="sortOrder">
            <option value="mayor">Precio: Mayor a menor</option>
            <option value="menor">Precio: Menor a mayor</option>
          </select>
        </div>
      </div>

      <!-- DESTACADA -->
      <aside class="card-feature" aria-label="Coche destacado">
        <img id="featureImg" class="car-img" src="" alt="Coche destacado" loading="lazy">
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
          <div>
            <div id="featureBrand" class="small" style="color:#5f6670">Marca</div>
            <div id="featureModel" style="font-weight:800;font-size:18px;font-family:'Raleway',sans-serif;">Modelo</div>
          </div>
          <div id="featurePrice" style="font-weight:800;color:var(--deep)">$0</div>
        </div>
        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="btn btn-primary" id="feature3dBtn">Vista 3D</button>
          <button class="btn btn-outline" id="featureContactBtn">Contactar</button>
        </div>
      </aside>
    </section>

    <!-- INVENTARIO -->
    <main id="inventario" style="margin-top:18px">
      <h2 style="margin:0 0 8px 0;font-weight:800">Inventario</h2>
      <div class="grid" id="carsGrid" role="list"></div>
    </main>

    <!-- VISOR 3D -->
    <section id="viewer" class="viewer-area" style="display:none;">
      <div class="viewer-info">
        <div id="viewBrand" class="small" style="color:#5f6670">Marca</div>
        <div id="viewModel" style="font-weight:800;font-size:22px;font-family:'Raleway',sans-serif;">Selecciona un auto</div>
        <div id="viewPrice" style="margin-top:8px;font-weight:800;color:var(--deep)"></div>
        <p id="viewDesc" class="small" style="margin-top:10px;color:#5f6670"></p>
        <div style="margin-top:14px;display:flex;gap:10px">
          <button class="btn btn-primary" id="viewerWhatsBtn">Contactar por WhatsApp</button>
          <button class="btn btn-outline" id="viewerCloseBtn">Cerrar</button>
        </div>
      </div>

      <div class="viewer-3d">
        <div id="modelContainer" style="width:100%;height:420px;border-radius:12px;overflow:hidden;background:#eef2f6;display:flex;align-items:center;justify-content:center;">
          <div id="modelPlaceholder" style="color:#5f6670;padding:12px;">Selecciona un auto para ver su modelo 3D (si el coche tiene .glb) üõ†Ô∏è</div>
        </div>
      </div>
    </section>

    <footer>
      ¬© <span id="year"></span> Apollo Automotive Store ‚Äî Hecho con ‚ù§Ô∏è ¬∑ Contacto solo por WhatsApp Business.
    </footer>
  </div>

  <noscript>Activa JavaScript para ver la galer√≠a y el visor 3D.</noscript>

  <script>
  /* Datos de ejemplo */
  const CARS = [
    { id:1, brand:'Aurelia', model:'Apex GT', price:125000,
      img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1200&auto=format&fit=crop',
      glb:'', description:'Deportiva, l√≠neas agresivas, interior premium. üöó‚ú®' },
    { id:2, brand:'Cerberus', model:'Luxor S', price:210000,
      img:'https://images.unsplash.com/photo-1541447271-2f21d0e2f7d0?q=80&w=1200&auto=format&fit=crop',
      glb:'', description:'Sed√°n ejecutivo, tecnolog√≠a de punta y confort. üß≠' },
    { id:3, brand:'Aurelia', model:'Roadmaster', price:98000,
      img:'https://images.unsplash.com/photo-1511919884226-fd3cad34687c?q=80&w=1200&auto=format&fit=crop',
      glb:'', description:'Convertible con mucha personalidad. üå¨Ô∏è' }
  ];

  const WHATSAPP_NUMBER = '5213312345678';
  let selectedCar = CARS[0];
  document.getElementById('year').textContent = new Date().getFullYear();

  function populateFilters(){
    const brands = ['Todos', ...new Set(CARS.map(c => c.brand))];
    const models = ['Todos', ...new Set(CARS.map(c => c.model))];
    const bf = document.getElementById('brandFilter');
    const mf = document.getElementById('modelFilter');
    brands.forEach(b=>{ const o=document.createElement('option'); o.value=b; o.textContent=b; bf.appendChild(o); });
    models.forEach(m=>{ const o=document.createElement('option'); o.value=m; o.textContent=m; mf.appendChild(o); });
  }

  function carCard(car){
    const card = document.createElement('article');
    card.className = 'car-card';

    const img = document.createElement('img');
    img.src = car.img; img.alt = `${car.brand} ${car.model}`; img.loading = 'lazy';
    card.appendChild(img);

    const row = document.createElement('div'); row.className = 'car-row';

    const left = document.createElement('div');
    const title = document.createElement('div'); title.style.fontWeight = '800'; title.style.fontFamily='Raleway, sans-serif'; title.textContent = `${car.brand} ¬∑ ${car.model}`;
    const desc = document.createElement('div'); desc.className = 'small'; desc.textContent = car.description;
    left.append(title, desc);

    const right = document.createElement('div'); right.style.textAlign = 'right';
    const p = document.createElement('div'); p.className = 'price'; p.textContent = `$${car.price.toLocaleString()}`;

    const actions = document.createElement('div'); actions.style.cssText = 'margin-top:8px;display:flex;gap:6px;justify-content:flex-end';
    const b3d = document.createElement('button'); b3d.className='btn btn-primary'; b3d.type='button'; b3d.textContent='3D';
    b3d.addEventListener('click', () => openViewer(car.id));
    const bwa = document.createElement('button'); bwa.className='btn btn-outline'; bwa.type='button'; bwa.textContent='Contactar';
    bwa.addEventListener('click', () => contactWhatsApp(car.id));
    actions.append(b3d, bwa);

    right.append(p, actions);
    row.append(left, right);
    card.appendChild(row);

    return card;
  }

  function updateList(){
    const bf = document.getElementById('brandFilter').value;
    const mf = document.getElementById('modelFilter').value;
    const so = document.getElementById('sortOrder').value;
    let list = CARS.slice();
    if(bf !== 'Todos') list = list.filter(c => c.brand === bf);
    if(mf !== 'Todos') list = list.filter(c => c.model === mf);
    list.sort((a,b)=> so === 'mayor' ? b.price - a.price : a.price - b.price);

    const grid = document.getElementById('carsGrid');
    grid.innerHTML = '';
    list.forEach(car => grid.appendChild(carCard(car)));

    const currentId = selectedCar?.id;
    const first = list.find(c => c.id === currentId) || list[0] || CARS[0];
    selectedCar = first;
    updateFeatureCard(first);
  }

  function updateFeatureCard(car){
    const img = document.getElementById('featureImg');
    img.src = car.img; img.alt = `${car.brand} ${car.model}`; img.loading = 'lazy';
    document.getElementById('featureBrand').textContent = car.brand;
    document.getElementById('featureModel').textContent = car.model;
    document.getElementById('featurePrice').textContent = '$' + car.price.toLocaleString();
  }

  function openViewer(idOrObj){
    const car = typeof idOrObj === 'object' ? idOrObj : CARS.find(c=>c.id === idOrObj);
    if(!car) return;
    selectedCar = car;
    const viewer = document.getElementById('viewer');
    viewer.style.display = 'flex';
    document.getElementById('viewBrand').textContent = car.brand;
    document.getElementById('viewModel').textContent = car.model;
    document.getElementById('viewPrice').textContent = '$' + car.price.toLocaleString();
    document.getElementById('viewDesc').textContent = car.description;

    const container = document.getElementById('modelContainer');
    container.innerHTML = '';

    if(car.glb && car.glb.trim() !== ''){
      const mv = document.createElement('model-viewer');
      mv.setAttribute('src', car.glb);
      mv.setAttribute('alt', `${car.brand} ${car.model}`);
      mv.setAttribute('camera-controls', '');
      mv.setAttribute('auto-rotate', '');
      mv.style.width = '100%';
      mv.style.height = '420px';
      container.appendChild(mv);
    } else {
      const fallback = document.createElement('img');
      fallback.src = car.img; fallback.alt = `${car.brand} ${car.model}`;
      fallback.loading = 'lazy';
      fallback.style.width='100%'; fallback.style.height='100%'; fallback.style.objectFit='cover';
      container.appendChild(fallback);
    }

    viewer.scrollIntoView({behavior:'smooth', block:'center'});
  }

  function closeViewer(){
    document.getElementById('viewer').style.display = 'none';
    document.getElementById('modelContainer').innerHTML =
      '<div id="modelPlaceholder" style="color:#5f6670;padding:12px;">Selecciona un auto para ver su modelo 3D (si el coche tiene .glb) üõ†Ô∏è</div>';
  }

  function contactWhatsApp(idOrObj){
    const car = typeof idOrObj === 'object' ? idOrObj : CARS.find(c=>c.id === idOrObj) || selectedCar;
    if(!car) return;
    const text = encodeURIComponent(`Hola üëã estoy interesado en el ${car.brand} ${car.model} (ID:${car.id}) - Precio: $${car.price.toLocaleString()}. ¬øMe pueden dar m√°s detalles?`);
    const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${text}`;
    const w = window.open(url, '_blank', 'noopener,noreferrer');
    if (w) w.opener = null;
  }

  function scrollToSection(id){ document.getElementById(id).scrollIntoView({behavior:'smooth'}); }

  function startEmojiFall(){
    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    const parent = document.getElementById('emojiFall');
    const emojis = ['üöó','üöò','üèéÔ∏è','üöô','üõª'];
    for(let i=0;i<12;i++){
      const s = document.createElement('div');
      s.className='emoji';
      s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      const left = Math.floor(Math.random()*100);
      const dur = 6 + Math.random()*8;
      const delay = -Math.random()*10;
      s.style.left = left + '%';
      s.style.top = (Math.random()*-30) + 'vh';
      s.style.animationDuration = dur + 's';
      s.style.animationDelay = delay + 's';
      parent.appendChild(s);
    }
  }

  function attachListeners(){
    document.getElementById('btnInv').addEventListener('click', () => scrollToSection('inventario'));
    document.getElementById('btnViewer').addEventListener('click', () => scrollToSection('viewer'));
    document.getElementById('feature3dBtn').addEventListener('click', () => openViewer(selectedCar));
    document.getElementById('featureContactBtn').addEventListener('click', () => contactWhatsApp(selectedCar));
    document.getElementById('viewerCloseBtn').addEventListener('click', closeViewer);
    document.getElementById('viewerWhatsBtn').addEventListener('click', () => contactWhatsApp(selectedCar));

    document.getElementById('brandFilter').addEventListener('change', updateList);
    document.getElementById('modelFilter').addEventListener('change', updateList);
    document.getElementById('sortOrder').addEventListener('change', updateList);

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && document.getElementById('viewer').style.display !== 'none') closeViewer();
    });
  }

  // Init
  populateFilters();
  updateList();
  startEmojiFall();
  attachListeners();
  </script>
</body>
</html>

